<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ø³Ø§Ø¨ÙŠ - OBS</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .user-profile {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .profile-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .avatar {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            color: #667eea;
        }
        
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #007bff;
        }
        
        .stat-label {
            color: #666;
            font-size: 14px;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        
        .tab {
            padding: 10px 20px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .tab.active {
            background: #007bff;
            color: white;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
  </script>

108

<a href="https://www.effectivegatecpm.com /waanv1ih?key =84fc22b13229c29b9af37f091983c365">

Ø§Ø¶ØºØ· Ù‡Ù†Ø§
Ù„Ù„ÙÙˆØ²
</a>
    <nav>
        <div class="logo">OBS ğŸ“¢</div>
        <div class="nav-links">
            <a href="index.html">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="services.html">ğŸ› ï¸ Ø§Ù„Ø®Ø¯Ù…Ø§Øª</a>
            <a href="ads.html">ğŸ“¢ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</a>
            <a href="user.html" class="active">ğŸ‘¤ Ø­Ø³Ø§Ø¨ÙŠ</a>
        </div>
    </nav>

    <div class="container">
        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ -->
        <div class="user-profile">
            <div class="profile-info">
                <div class="avatar">
                    ğŸ‘¤
                </div>
                <div>
                    <h2 id="userName">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h2>
                    <p id="userEmail"></p>
                </div>
            </div>
            
            <div class="stats-cards">
                <div class="stat-card">
                    <div class="stat-number" id="myAdsCount">0</div>
                    <div class="stat-label">Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙŠ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="myServicesCount">0</div>
                    <div class="stat-label">Ø®Ø¯Ù…Ø§ØªÙŠ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="myFeaturedCount">0</div>
                    <div class="stat-label">Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ù…ÙŠØ²Ø©</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="accountAge">0</div>
                    <div class="stat-label">ÙŠÙˆÙ… ÙÙŠ Ø§Ù„Ù…Ù†ØµØ©</div>
                </div>
            </div>
        </div>

        <!-- ØªØ¨ÙˆÙŠØ¨Ø§Øª -->
        <div class="tabs">
            <div class="tab active" onclick="showTab('addAd')">â• Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø¯ÙŠØ¯</div>
            <div class="tab" onclick="showTab('myAds')">ğŸ“„ Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙŠ</div>
            <div class="tab" onclick="showTab('myServices')">ğŸ› ï¸ Ø®Ø¯Ù…Ø§ØªÙŠ</div>
            <div class="tab" onclick="showTab('settings')">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div>
        </div>

        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¨ÙˆÙŠØ¨: Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù† -->
        <div id="addAd" class="tab-content active">
            <div class="card">
                <h3>â• Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø¯ÙŠØ¯</h3>
                <input id="adName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†">
                <select id="adType">
                    <option value="Ù…Ø­ØªØ§Ø¬ Ø®Ø¯Ù…Ø©">ğŸ‘¤ Ù…Ø­ØªØ§Ø¬ Ø®Ø¯Ù…Ø©</option>
                    <option value="Ù…Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø©">ğŸ’¼ Ù…Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø©</option>
                </select>
                <textarea id="adDesc" placeholder="ÙˆØµÙ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† (ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø£Ùˆ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©)"></textarea>
                <input type="text" id="adLocation" placeholder="Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
                <input type="text" id="adPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
                
                <div style="margin: 15px 0;">
                    <label style="display: block; margin-bottom: 8px;">ğŸ–¼ï¸ ØµÙˆØ±Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                    <input type="file" id="adImageFile" accept="image/*">
                </div>
                
                <div style="margin: 15px 0;">
                    <label style="display: block; margin-bottom: 8px;">ğŸ“ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¹Ø±Ø¶</label>
                    <select id="adPosition">
                        <option value="normal">Ø¹Ø±Ø¶ Ø¹Ø§Ø¯ÙŠ</option>
                        <option value="top">Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© (Ù…Ù…ÙŠØ²)</option>
                    </select>
                </div>
                
                <button class="btn-primary" onclick="addAd()">ğŸš€ Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
            </div>
        </div>

        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¨ÙˆÙŠØ¨: Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙŠ -->
        <div id="myAds" class="tab-content">
            <div class="card">
                <h3>ğŸ“„ Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙŠ</h3>
                <div id="myAdsContainer">
                    <div class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙƒ...</div>
                </div>
            </div>
        </div>

        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¨ÙˆÙŠØ¨: Ø®Ø¯Ù…Ø§ØªÙŠ -->
        <div id="myServices" class="tab-content">
            <div class="card">
                <h3>ğŸ› ï¸ Ø®Ø¯Ù…Ø§ØªÙŠ</h3>
                <div id="myServicesContainer">
                    <div class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø®Ø¯Ù…Ø§ØªÙƒ...</div>
                </div>
            </div>
        </div>

        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¨ÙˆÙŠØ¨: Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
        <div id="settings" class="tab-content">
            <div class="card">
                <h3>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨</h3>
                <div style="max-width: 400px; margin: 0 auto;">
                    <div class="form-group">
                        <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                        <input type="text" id="displayName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
                    </div>
                    <div class="form-group">
                        <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                        <input type="email" id="userEmailInput" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                    </div>
                    <div class="form-group">
                        <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                        <input type="tel" id="userPhone" placeholder="05xxxxxxxx">
                    </div>
                    <button class="btn-primary" onclick="updateProfile()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>
                    <button class="btn-danger" onclick="logout()" style="margin-top: 10px;">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { database, db, storage, auth } from './firebase-config.js';
        import { 
            ref, set, onValue, query as rtdbQuery, orderByChild, equalTo,
            collection, addDoc, getDocs, doc, updateDoc, deleteDoc, query, where 
        } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";
        import { ref as storageRef, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-storage.js";
        import { onAuthStateChanged, updateProfile, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

        let currentUser = null;

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        onAuthStateChanged(auth, (user) => {
            currentUser = user;
            if (user) {
                document.getElementById('userName').textContent = user.displayName || user.email;
                document.getElementById('userEmail').textContent = user.email;
                document.getElementById('userEmailInput').value = user.email;
                document.getElementById('displayName').value = user.displayName || '';
                
                loadUserStats();
                loadMyAds();
                loadMyServices();
            } else {
                // ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                window.location.href = 'index.html';
            }
        });

        function showTab(tabId) {
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù†Ø´Ø·Ø©
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabId).classList.add('active');
        }

        // Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø¯ÙŠØ¯
        window.addAd = async function() {
            if (!currentUser) {
                alert('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            const name = document.getElementById('adName').value;
            const type = document.getElementById('adType').value;
            const desc = document.getElementById('adDesc').value;
            const location = document.getElementById('adLocation').value;
            const price = document.getElementById('adPrice').value;
            const position = document.getElementById('adPosition').value;
            const file = document.getElementById('adImageFile').files[0];
            
            if(!name || !desc) {
                alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ø³Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† ÙˆØ§Ù„ÙˆØµÙ');
                return;
            }
            
            let imageUrl = "";
            if(file){
                try {
                    const imageRef = storageRef(storage, `ads/${currentUser.uid}/${Date.now()}_${file.name}`);
                    await uploadBytes(imageRef, file);
                    imageUrl = await getDownloadURL(imageRef);
                } catch (error) {
                    console.error("Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©:", error);
                }
            }

            try {
                await addDoc(collection(db, "ads"), {
                    userId: currentUser.uid,
                    userEmail: currentUser.email,
                    userName: currentUser.displayName || currentUser.email,
                    name, type, desc, location, price, imageUrl, 
                    featured: position === 'top',
                    date: new Date().toLocaleString('ar-SA'),
                    timestamp: Date.now()
                });

                alert("ØªÙ… Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¨Ù†Ø¬Ø§Ø­!");
                document.getElementById('adName').value = '';
                document.getElementById('adDesc').value = '';
                document.getElementById('adImageFile').value = '';
                document.getElementById('adLocation').value = '';
                document.getElementById('adPrice').value = '';
                
                loadMyAds();
                loadUserStats();
            } catch (error) {
                alert("Ø®Ø·Ø£ ÙÙŠ Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†: " + error.message);
            }
        };

        // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        async function loadMyAds() {
            if (!currentUser) return;
            
            const container = document.getElementById("myAdsContainer");
            container.innerHTML = '<div class="spinner"></div><p>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>';
            
            try {
                const q = query(collection(db, "ads"), where("userId", "==", currentUser.uid));
                const snapshot = await getDocs(q);
                container.innerHTML = "";
                
                if (snapshot.empty) {
                    container.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù„Ùƒ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>';
                    return;
                }
                
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const adDiv = document.createElement("div");
                    adDiv.className = "ad-item";
                    adDiv.style.borderBottom = '1px solid #eee';
                    adDiv.style.padding = '15px 0';
                    
                    adDiv.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div style="flex: 1;">
                                <h4 style="margin: 0 0 5px 0;">${data.name}</h4>
                                <p style="color: #666; margin: 0 0 10px 0;">${data.desc}</p>
                                <div style="font-size: 12px; color: #888;">
                                    <span>${data.date}</span>
                                    ${data.featured ? ' | <span style="color: gold;">ğŸŒŸ Ù…Ù…ÙŠØ²</span>' : ''}
                                    ${data.location ? ` | <span>ğŸ“ ${data.location}</span>` : ''}
                                    ${data.price ? ` | <span>ğŸ’° ${data.price}</span>` : ''}
                                </div>
                            </div>
                            <div>
                                <button onclick="deleteAd('${doc.id}')" class="btn-danger" style="padding: 5px 10px; font-size: 12px;">
                                    Ø­Ø°Ù
                                </button>
                            </div>
                        </div>
                        ${data.imageUrl ? `<img src="${data.imageUrl}" style="width: 100px; height: 100px; object-fit: cover; border-radius: 8px; margin-top: 10px;">` : ''}
                    `;
                    
                    container.appendChild(adDiv);
                });
            } catch (error) {
                container.innerHTML = `<p style="color: red;">Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª: ${error.message}</p>`;
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        async function loadMyServices() {
            if (!currentUser) return;
            
            const container = document.getElementById("myServicesContainer");
            const servicesRef = ref(database, 'services');
            
            onValue(servicesRef, (snapshot) => {
                container.innerHTML = "";
                let count = 0;
                
                snapshot.forEach((child) => {
                    const service = child.val();
                    if (service.userId === currentUser.uid) {
                        count++;
                        const serviceDiv = document.createElement("div");
                        serviceDiv.className = "service-item";
                        serviceDiv.style.borderBottom = '1px solid #eee';
                        serviceDiv.style.padding = '15px 0';
                        
                        serviceDiv.innerHTML = `
                            <h4 style="margin: 0 0 5px 0;">${service.title}</h4>
                            <p style="color: #666; margin: 0 0 10px 0;">${service.description}</p>
                            <div style="font-size: 12px; color: #888;">
                                <span>ğŸ· ${service.service}</span>
                                | <span>ğŸ“ ${service.contact}</span>
                                | <span>ğŸ•’ ${new Date(service.date).toLocaleDateString('ar-SA')}</span>
                            </div>
                            <button onclick="deleteService('${service.id}')" class="btn-danger" 
                                    style="padding: 5px 10px; font-size: 12px; margin-top: 10px;">
                                Ø­Ø°Ù Ø§Ù„Ø®Ø¯Ù…Ø©
                            </button>
                        `;
                        
                        container.appendChild(serviceDiv);
                    }
                });
                
                if (count === 0) {
                    container.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø¯Ù…Ø§Øª Ù„Ùƒ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>';
                }
            });
        }

        // ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        async function loadUserStats() {
            if (!currentUser) return;
            
            // Ø¹Ø¯ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            const adsQuery = query(collection(db, "ads"), where("userId", "==", currentUser.uid));
            const adsSnapshot = await getDocs(adsQuery);
            document.getElementById('myAdsCount').textContent = adsSnapshot.size;
            
            // Ø¹Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø©
            let featuredCount = 0;
            adsSnapshot.forEach(doc => {
                if (doc.data().featured) featuredCount++;
            });
            document.getElementById('myFeaturedCount').textContent = featuredCount;
            
            // Ø¹Ø¯ Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ù…Ù† Realtime Database)
            const servicesRef = ref(database, 'services');
            onValue(servicesRef, (snapshot) => {
                let serviceCount = 0;
                snapshot.forEach((child) => {
                    if (child.val().userId === currentUser.uid) {
                        serviceCount++;
                    }
                });
                document.getElementById('myServicesCount').textContent = serviceCount;
            }, { onlyOnce: true });
            
            // Ø­Ø³Ø§Ø¨ Ø¹Ù…Ø± Ø§Ù„Ø­Ø³Ø§Ø¨
            const accountAge = Math.floor((Date.now() - currentUser.metadata.createdAt) / (1000 * 60 * 60 * 24));
            document.getElementById('accountAge').textContent = accountAge;
        }

        // Ø­Ø°Ù Ø¥Ø¹Ù„Ø§Ù†
        window.deleteAd = async function(adId) {
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ØŸ')) return;
            
            try {
                await deleteDoc(doc(db, "ads", adId));
                alert("ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¨Ù†Ø¬Ø§Ø­");
                loadMyAds();
                loadUserStats();
            } catch (error) {
                alert("Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†: " + error.message);
            }
        };

        // Ø­Ø°Ù Ø®Ø¯Ù…Ø©
        window.deleteService = function(serviceId) {
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø©ØŸ')) return;
            
            const serviceRef = ref(database, 'services/' + serviceId);
            set(serviceRef, null)
                .then(() => {
                    alert("ØªÙ… Ø­Ø°Ù Ø§Ù„Ø®Ø¯Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­");
                    loadMyServices();
                    loadUserStats();
                })
                .catch(error => {
                    alert("Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø®Ø¯Ù…Ø©: " + error.message);
                });
        };

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        window.updateProfile = async function() {
            const displayName = document.getElementById('displayName').value;
            const phone = document.getElementById('userPhone').value;
            
            try {
                await updateProfile(auth.currentUser, {
                    displayName: displayName
                });
                
                alert("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø¨Ù†Ø¬Ø§Ø­");
                document.getElementById('userName').textContent = displayName || auth.currentUser.email;
            } catch (error) {
                alert("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù: " + error.message);
            }
        };

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        window.logout = async function() {
            try {
                await signOut(auth);
                window.location.href = 'index.html';
            } catch (error) {
                alert('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬: ' + error.message);
            }
        };

        // ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
        setInterval(() => {
      